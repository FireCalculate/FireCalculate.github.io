<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'/>
    <link rel="icon" href="dist/favicon/rental.ico"/>
    <title>æˆ¿äº§ç§Ÿå”®æ¯”è®¡ç®—å™¨</title>
    <link rel="stylesheet" href="dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="dist/css/271524252010.css">
    <link rel="stylesheet" href="dist/css/c220423282110.css">
</head>

<body>
<div class="container mt-5">
    <h2 class="text-center">æˆ¿äº§ç§Ÿå”®æ¯”è®¡ç®—å™¨</h2>
    <form id="calculator-form">
        <div class="row mb-4">
            <div class="col-sm-3">
                <label for="unitPrice" class="form-label">å•ä»·(ï¿¥)</label>
                <div class="input-group">
                    <input type="number" class="form-control" id="unitPrice" placeholder="è¯·è¾“å…¥å•ä»·" value="12000">
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary btn-md" type="button" onclick="decrementUnitPrice()">-</button>
                        <button class="btn btn-outline-secondary btn-md" type="button" onclick="incrementUnitPrice()">+</button>
                    </div>
                </div>
            </div>

            <div class="col-sm-2">
                <label for="area" class="form-label">é¢ç§¯(ã¡)</label>
                <div class="input-group">
                    <input type="number" class="form-control" id="area" placeholder="è¯·è¾“å…¥é¢ç§¯" value="90">
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary btn-md" type="button" onclick="decrementArea()">-</button>
                        <button class="btn btn-outline-secondary btn-md" type="button" onclick="incrementArea()">+</button>
                    </div>
                </div>
            </div>

            <div class="col-sm-2">
                <label for="interest" class="form-label">åˆ©æ¯(ï¿¥)</label>
                <div class="input-group">
                    <input type="number" class="form-control" id="interest" placeholder="è¯·è¾“å…¥åˆ©æ¯" value="0">
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary btn-md" type="button" onclick="decrementInterest()">-</button>
                        <button class="btn btn-outline-secondary btn-md" type="button" onclick="incrementInterest()">+</button>
                    </div>
                </div>
            </div>

            <div class="col-sm-3">
                <label for="totalPrice" class="form-label">æ€»ä»·<span class="th-info">(å•ä»·Ã—é¢ç§¯+åˆ©æ¯)</span></label>
                <input type="number" class="form-control" id="totalPrice" placeholder="æ€»ä»·" readonly>
            </div>

            <div class="col-sm-2">
                <label for="rent" class="form-label">æœˆç§Ÿ(ï¿¥)</label>
                <div class="input-group">
                    <input type="number" step="100" class="form-control" id="rent" placeholder="è¯·è¾“å…¥æœˆç§Ÿ" value="2500">
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary btn-md" type="button" onclick="decrementRent()">-</button>
                        <button class="btn btn-outline-secondary btn-md" type="button" onclick="incrementRent()">+</button>
                    </div>
                </div>
            </div>
        </div>

        <table class="result-table table table-bordered table-hover">
            <thead class="thead-dark">
            <tr>
                <th>è®¡ç®—æ–¹å¼</th>
                <th>æœˆç§Ÿ(ï¿¥)</th>
                <th>å¹´ç§Ÿ<br><span class="th-info">(æœˆç§ŸÃ—12)</span></th>
                <th>ç§Ÿé‡‘å›æŠ¥ç‡<br><span class="th-info">(å¹´ç§ŸÃ·æ€»ä»·)</span></th>
                <th>ç§Ÿå”®æ¯”â†“<br><span class="th-info">(æ€»ä»·Ã·æœˆç§Ÿ)</span></th>
                <th>å¹´ç§Ÿå”®æ¯”<br><span class="th-info">(æ€»ä»·Ã·å¹´ç§Ÿ)</span></th>
            </tr>
            </thead>
            <tbody id="result-body">
            <!-- Calculation results will be displayed here -->
            </tbody>
        </table>
    </form>
</div>
<div class="alert alert-info bg-fbfbfa border-0 rounded-0" role="alert">
    <div class="d-flex align-items-center">
        <div class="flex-grow-1">
            <p class="mb-2">
                ğŸ“Œ<a href="https://baike.baidu.com/item/%E7%A7%9F%E5%94%AE%E6%AF%94" target="_blank">ç§Ÿå”®æ¯”</a>æ˜¯æŒ‡æˆ¿å­çš„ä»·æ ¼ä¸æ¯æœˆç§Ÿé‡‘ä¹‹é—´çš„æ¯”å€¼ï¼Œå®ƒç”¨æ¥è¡¡é‡ä¹°æˆ¿å’Œç§Ÿæˆ¿çš„åˆ’ç®—ç¨‹åº¦ã€‚ç®€å•æ¥è¯´å°±æ˜¯ï¼šæˆ¿ä»·ç›¸å½“äºå¤šå°‘ä¸ªæœˆçš„ç§Ÿé‡‘ã€‚
            </p>
        </div>
    </div>
</div>
<div class="bottom-navigation">
    <a href="index.html">ğŸ’° FIREè®¡ç®—å™¨</a>
    <a href="life.html">â° ç”Ÿå‘½å€’è®¡æ—¶</a>
    <a href="expense.html">ğŸ§¾ æ¶ˆè´¹ç›˜ç‚¹</a>
    <!--<a href="clock.html">â° FIREæ—¶é’Ÿ</a>-->
    <a href="rental.html">ğŸ  æˆ¿äº§ç§Ÿå”®æ¯”</a>
</div>
<script src="dist/js/jquery-3.7.0.min.js"></script>
<script>
    $(document).ready(function () {
        calculate(false);
        $('#unitPrice, #area, #interest, #rent').on('input', function () {
            calculate(false);
        });
    });

    function calculate(check) {
        var unitPrice = parseFloat($('#unitPrice').val()) || 0;
        var area = parseFloat($('#area').val()) || 0;
        var interest = parseFloat($('#interest').val()) || 0;
        var rent = parseFloat($('#rent').val()) || 0;

        if (check && (isNaN(unitPrice) || isNaN(area) || isNaN(interest) || isNaN(rent))) {
            alert("è¯·è¾“å…¥æ‰€æœ‰å­—æ®µ");
            return;
        }

        // è®¡ç®—æ€»ä»·
        var totalPrice = (unitPrice * area) + interest;
        $('#totalPrice').val(totalPrice.toFixed(2));

        // åˆ›å»ºç»“æœæ•°ç»„å¹¶ä¿å­˜åˆå§‹æ ·å¼çŠ¶æ€
        var results = [
            { name: 'æŒ‰å½“å‰æœˆç§Ÿè®¡ç®—', monthRent: rent, yearRent: rent * 12, saleRentRatio: totalPrice / rent, calcType: null, isFirst: true }
        ];

        for (var i = 200; i <= 900; i += 100) {
            results.push({
                name: `æŒ‰${i}ç§Ÿå”®æ¯”`,
                monthRent: totalPrice / i,
                yearRent: (totalPrice / i) * 12,
                saleRentRatio: i,
                calcType: i,
                isFirst: false
            });
        }

        // æŒ‰ç…§ç§Ÿå”®æ¯”ä»å°åˆ°å¤§æ’åº
        results.sort((a, b) => a.saleRentRatio - b.saleRentRatio);

        // ç”Ÿæˆç»“æœè¡Œ
        var resultBody = results.map((result, index) => {
            var rentReturnRate = (result.yearRent / totalPrice) * 100;
            var saleRentRatioYear = result.calcType ? (result.saleRentRatio / 12).toFixed(2) : (totalPrice / result.yearRent).toFixed(2);
            // è®¾ç½®æ ·å¼ï¼šæ ¹æ®åˆå§‹æ ·å¼çŠ¶æ€è¿›è¡Œåˆ¤æ–­
            var firstRowSecondColClass = result.isFirst ? 'bg-secondary text-white' : '';
            var otherRowsFifthColClass = !result.isFirst ? 'bg-secondary text-white' : '';
            var firstRowFifthColBoldClass = result.isFirst ? 'font-weight-bold' : '';
            var otherRowsSecondColBoldClass = !result.isFirst ? 'font-weight-bold' : '';
            return `
        <tr>
            <td>${result.name}</td>
            <td class="${firstRowSecondColClass} ${otherRowsSecondColBoldClass}">${result.monthRent.toFixed(2)}</td>
            <td>${result.yearRent.toFixed(2)}</td>
            <td>${rentReturnRate.toFixed(2)}%</td>
            <td class="${otherRowsFifthColClass} ${firstRowFifthColBoldClass}">${result.saleRentRatio.toFixed(2)}</td>
            <td>${saleRentRatioYear}</td>
        </tr>
        `;
        }).join('');
        $('#result-body').html(resultBody);
    }

    function incrementRent() {
        let rent = parseFloat($('#rent').val());
        $('#rent').val((rent + 100));
        calculate(false);
    }

    function decrementRent() {
        let rent = parseFloat($('#rent').val());
        $('#rent').val((rent - 100));
        calculate(false);
    }

    function incrementUnitPrice() {
        let unitPrice = parseFloat($('#unitPrice').val());
        $('#unitPrice').val((unitPrice + 1000));
        calculate(false);
    }

    function decrementUnitPrice() {
        let unitPrice = parseFloat($('#unitPrice').val());
        $('#unitPrice').val((unitPrice - 1000));
        calculate(false);
    }

    function incrementArea() {
        let area = parseFloat($('#area').val());
        $('#area').val((area + 1));
        calculate(false);
    }

    function decrementArea() {
        let area = parseFloat($('#area').val());
        $('#area').val((area - 1));
        calculate(false);
    }

    function incrementInterest() {
        let interest = parseFloat($('#interest').val());
        $('#interest').val((interest + 1000)); // æ¯æ¬¡å¢åŠ  1000
        calculate(false);
    }

    function decrementInterest() {
        let interest = parseFloat($('#interest').val());
        $('#interest').val((interest - 1000)); // æ¯æ¬¡å‡å°‘ 1000
        calculate(false);
    }
</script>

</body>

</html>
